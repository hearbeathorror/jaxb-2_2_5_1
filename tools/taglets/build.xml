<?xml version="1.0"?>

<!--
 Copyright 2004 Sun Microsystems, Inc. All rights reserved.
 SUN PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.
-->

<!--
  base dir has to be jaxb-ri for this to be work correctly
  when it's called from the jaxb-ri/build.xml

  $Id: build.xml,v 1.2 2005-07-21 20:29:49 kohsuke Exp $
-->
<project name="taglets" basedir="../.." default="compile">

    <!-- import build properties -->
    <property file="${basedir}/build.properties" />
    <property name="name" value="taglets" />
    <property name="root" value="${jaxb.root}/tools/${name}" />
    
    <target name="compile">
        <mkdir dir="${root}/build/classes" />
        <javac srcdir="${root}/src" destdir="${root}/build/classes"
            debug="${compile.debug}" optimize="${compile.optimize}">
          <!-- ant seems to put tools.jar into classpath automatically -->
        </javac>
    </target>

    <target name="jar" depends="compile" >
      <tstamp/>
      <jar jarfile="${root}/build/${name}.jar">
        <fileset dir="${root}/build/classes" />
        <manifest>
          <attribute name="Build-Id" value="${TSTAMP}" />
        </manifest>
      </jar>
    </target>

    <target name="clean">
        <delete dir="${root}/build" />
    </target>
</project>
